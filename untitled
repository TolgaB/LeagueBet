var FirebaseTokenGenerator = require("firebase-token-generator");
var tokenGenerator = new FirebaseTokenGenerator("0qAUY2RHtIYZeq3RlUwFgzk70BBcsleMPvNOflzI");
var token = tokenGenerator.createToken(
  { uid: "1", some: "arbitrary", data: "here" },
  { admin: true }
);
var rest = require('rest');
var Firebase = require("firebase");
var myFirebaseRef = new Firebase("https://SOCIALEVENTTHING.firebaseio.com/");
var rest, mime, client;
var app = require('express')();
var http = require('http').Server(app);
var io = require('socket.io')(http);
rest = require('rest'),
mime = require('rest/interceptor/mime'); 
client = rest.wrap(mime);








function getGames() {
client({ path: 'http://spectator.na.lol.riotgames.com:80/observer-mode/rest/featured?api_key=dd32a661-7717-4722-bcc7-31f53ca42fdb' }).then(function(response) {
    console.log(response.entity.gameList[0]);
    myFirebaseRef.set( {
      gameID: response.entity.gameList[0].gameId,
      Team1Player1: response.entity.gameList[0].participants[0].summonerName,
      Team1Player2: response.entity.gameList[0].participants[1].summonerName,
      Team1Player3: response.entity.gameList[0].participants[2].summonerName,
      Team1Player4: response.entity.gameList[0].participants[3].summonerName,
      Team1Player5: response.entity.gameList[0].participants[4].summonerName,
      Team2Player1: response.entity.gameList[0].participants[5].summonerName,
      Team2Player2: response.entity.gameList[0].participants[6].summonerName,
      Team2Player3: response.entity.gameList[0].participants[7].summonerName,
      Team2Player4: response.entity.gameList[0].participants[8].summonerName,
      Team2Player5: response.entity.gameList[0].participants[9].summonerName,
      MatchType: response.entity.gameList[0].gameMode,
    }); 
    return(response.entity.gameList);  
});
}
//Might not use these
function pullUpInfoOnSpecificGame(gameId) {
  /*
client({ path:'https://na.api.pvp.net/api/lol/na/v2.2/match/'gameId'?api_key=dd32a661-7717-4722-bcc7-31f53ca42fdb' }).then(function(response) {
    console.log(response.entity);
    return(response.entity);  
});
*/
}
//To tell if the league of legends game has ended
function didGameEnd(gameId) {

}